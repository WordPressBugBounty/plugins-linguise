(()=>{var e={431:(e,t,n)=>{const i=n(735);e.exports=new class{constructor(){if(this._cached_config=null,this._stored_pkey=null,document.currentScript){const e=new URL(document.currentScript.src);this._stored_pkey=e.searchParams.get("d")}this._config_request=!1}setPublicKey(e){!e&&this._stored_pkey||(this._stored_pkey=e)}_waitUntilConfigUnlock(){return new Promise((e=>{const t=setInterval((()=>{this._config_request||(clearInterval(t),e())}),100)}))}async getConfig(e){if(this._config_request&&await this._waitUntilConfigUnlock(),this._config_request=!0,null!==this._cached_config)return this._cached_config;if(!this._stored_pkey)throw new Error("Linguise: No available key can be used");try{const t=await this.callAPI("/config/"+this._stored_pkey+(e?"/"+e:""),{method:"GET",headers:{"Content-Type":"application/json"}});return this._cached_config=t,this._config_request=!1,t}catch(e){throw this._config_request=!1,e}}async getUrlTranslations(e,t){if(!this._stored_pkey)throw new Error("Linguise: No available key can be used");return await this.callAPI("/translations/url/"+this._stored_pkey+"/"+e+"/"+i.hash(decodeURI(t)),{method:"GET",headers:{"Content-Type":"application/json"}})}async callAPI(e,t={}){const n=new URL("http"+("1"==={}.API_USE_HTTPS?"s":"")+"://"+{}.API_DOMAIN+({}.API_DOMAIN_PORT?":"+{}.API_DOMAIN_PORT:"")+{}.API_BASE_PATH+e),i={};-1!==["POST","PUT"].indexOf(t.method)&&(i["Content-Type"]="application/json"),t={...t,referrerPolicy:"origin",headers:new Headers(i)};const a=await fetch(n,t),s=await a.json();if(!1===s.success)throw s;return s.data}async translate(e,t,n,i=null){if(null===i&&(i=new URL("http"+("1"==={}.API_TRANSLATE_HTTPS?"s":"")+"://"+{}.API_TRANSLATE_HOST+({}.API_TRANSLATE_PORT?":"+{}.API_TRANSLATE_PORT:""))),!this._stored_pkey)throw new Error("Linguise: No available key can be used");const a=new FormData,s=new URL(window.location.href);a.append("version","2.1.6"),a.append("url",e),a.append("original_url",`${s.protocol}//${s.host}`),a.append("language",t),a.append("requested_path",window.location.pathname),a.append("content",n),a.append("public_key",this._stored_pkey),a.append("response_code","200"),a.append("user_agent",navigator.userAgent);const r=(new Date).getTime().toString(),o={Referer:window.location.href,"X-Linguise-Nonce":r,"X-Linguise-Key":this._stored_pkey,"X-Linguise-Language":t,"X-Linguise-Hash":await(async(e,t,n)=>{const i=(new TextEncoder).encode(`${e}_${t}-${n}`),a=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("")})(this._stored_pkey,r,t)},l=await fetch(i,{method:"POST",body:a,headers:o}),u=await l.json();if(void 0!==u.response_code&&200!==u.response_code)throw new Error(u.message);return u}}},230:e=>{class t{constructor(e,t,n,i={}){this.id=e?e.id:"noop",this.index=t,this.text=n,this.metaExtra=i,this.node=e,this.subId=null,this.tagName=null}isCached(){return this.node.cachedIndex.includes(this.index)}asHtml(){if(this.isCached())return;const e=this.tagName?this.tagName:this.node?this.node.tagWrapper:"div",t=[`data-linguise-id="${this.id}"`,`data-linguise-index="${this.index}"`];this.subId&&t.push(`data-linguise-sub-id="${this.subId}"`);const n=[];if(this.metaExtra)for(const[e,i]of Object.entries(this.metaExtra))t.push(`${e}="${i}"`),n.push(e);return n.length>0&&t.push(`data-linguise-meta-extra="${n.join(";;")}"`),`<${e} ${t.join(" ")}>${this.text}</${e}>`}static fromElement(e){const n=e.dataset.linguiseId;let i=e.dataset.linguiseIndex;if(!n||!i)return;if(i=parseInt(i),isNaN(i))return;const a={};if(e.dataset.linguiseMetaExtra){const t=e.dataset.linguiseMetaExtra.split(";;");for(const n of t)a[n]=e.getAttribute(n)}const s=new t(null,i,e.textContent,a);s.id=n;const r=e.dataset.linguiseSubId;return r&&(s.subId=r),s}}e.exports=t},371:(e,t,n)=>{const{debounce:i}=n(775),a="v4.1",s="_linguise_ttl",r="linguiseDynamicCache";function o(e){return Math.floor(((new Date).getTime()+e)/1e3)}function l(e,t){return t?`${t}::${e}`:e}const u=new class{constructor(){this.caches={},this.global_ttl=void 0,this.MAX_TTL_TIME=2592e5,this.saveToStorageDebounced=i(this.saveToStorage.bind(this),300),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.saveToStorage()}))}importFromStorage(){const e=localStorage.getItem(r);if(!e)return;const t=JSON.parse(e);t.version===a&&(this.caches=t.caches,this.global_ttl=Number(t[s]),this.updateTTL())}updateTTL(){const e=o(this.MAX_TTL_TIME);if(isNaN(this.global_ttl))return this.global_ttl=e,void this.saveToStorageDebounced();e>this.global_ttl&&(this.caches={}),this.global_ttl=e,this.saveToStorageDebounced()}setMaxTTL(e){this.MAX_TTL_TIME=e,this.updateTTL()}add(e,t,n,i){if(!n)throw new Error("Language is required");this.updateTTL(),this.caches[n]=this.caches[n]||{};const a=l(e,i);this.caches[n][a]?(this.caches[n][a].value=t,this.caches[n][a].ttl=o(this.MAX_TTL_TIME)):this.caches[n][a]={value:t,ttl:o(this.MAX_TTL_TIME)},this.saveToStorageDebounced()}get(e,t,n){if(!t)throw new Error("Language is required");const i=(new Date).getTime();if(1e3*this.global_ttl<i)return void this.flush();this.caches[t]=this.caches[t]||{};const a=l(e,n),s=this.caches[t][a];if(s){if(!(1e3*s.ttl<i))return this.caches[t][a].ttl=Math.floor((i+this.MAX_TTL_TIME)/1e3),this.updateTTL(),s.value;try{delete this.caches[t][a]}catch{}this.updateTTL()}}saveToStorage(){localStorage.setItem(r,JSON.stringify({version:a,caches:this.caches,[s]:this.global_ttl}))}flush(){this.caches={},this.updateTTL()}};e.exports=u,window.globalLinguiseCache=u},72:(e,t,n)=>{const i=n(230),a=n(813),s=n(371);e.exports=class extends a{constructor(e,t){super(e,e),this.mergeable=!1}shouldWeTranslate(e){return!e.trim().startsWith("data:image")&&super.shouldWeTranslate(e)}tokenize(e=!1){if(void 0!==this._cachedTokenized&&!e)return this._cachedTokenized;const t=this.element.getAttribute("src"),n=this.element.getAttribute("alt"),a=this.element.getAttribute("title");if(t){const s={};if(this.shouldWeTranslate(t)&&(s.src=t),n&&this.shouldWeTranslate(n)&&(s.alt=n),a&&this.shouldWeTranslate(a)&&(s.title=a),!Object.keys(s).length)throw new Error("No attribute to translate in image element");const r=new i(this,0,"",s);return r.subId="merged-src",r.tagName="img",e||(this._cachedTokenized=[r]),[r]}if(n||a){const t=[];if(n&&this.shouldWeTranslate(n)){const e=new i(this,0,n);e.subId="alt",t.push(e)}if(a&&this.shouldWeTranslate(a)){const e=new i(this,1,a);e.subId="title",t.push(e)}if(!t.length)throw new Error("No attribute to translate in image element");return e||(this._cachedTokenized=t),t}throw new Error("No attribute to translate in image element")}applyChange(e,t,n){const i=Object.assign({},{dryRun:!1,skipCache:!1},n||{});i.skipCache||this.cachedIndex.push(e.index);const a=e.subId;if(!a)return;let r=e.text;if("merged-src"!==a)"alt"===a&&this.applyAttributeChange("alt",r,{...i,language:t}),"title"===a&&this.applyAttributeChange("title",r,{...i,language:t});else{if(r=e.metaExtra.src,!r)return;const n=this.element.getAttribute("src");i.dryRun&&(r=`${n}#linguise-translated-demo`),this.element.setAttribute("src",r),i.skipCache||i.dryRun||s.add(n,r,t,a);const o=e.metaExtra.alt;o&&this.applyAttributeChange("alt",o,{...i,language:t,subId:a});const l=e.metaExtra.title;l&&this.applyAttributeChange("title",l,{...i,language:t,subId:a})}}blurParent(){}unblurParent(){}}},765:(e,t,n)=>{const i=n(230),a=n(813);n(371);e.exports=class extends a{constructor(e,t){super(e,e),this.tagWrapper="a"}shouldWeTranslate(e){const t=e.trim(),n=["http:","https:","mailto:","tel:","ftp:"];try{const e=new URL(t,window.location.href);if(!n.includes(e.protocol))return!1;const i=new URL(window.location.href);return i.protocol!==e.protocol||i.origin!==e.origin||i.pathname!==e.pathname||i.search!==e.search||i.hash===e.hash}catch(e){return!1}return super.shouldWeTranslate(e)}tokenize(e=!1){if(void 0!==this._cachedTokenized&&!e)return this._cachedTokenized;const t=this.element.getAttribute("href"),n=[];if(t&&this.shouldWeTranslate(t)){const e=new i(this,0,"",{href:t});e.subId="href",n.push(e)}if(!n.length)throw new Error("No attribute to translate in link element");return e||(this._cachedTokenized=n),n}applyChange(e,t,n){const i=Object.assign({},{dryRun:!1,skipCache:!1},n||{});i.skipCache||this.cachedIndex.push(e.index);const a=e.subId;if(!a)return;if(!e.metaExtra)return;let s=e.metaExtra.href;this.applyAttributeChange("href",s,{...i,language:t,subId:a})}blurParent(){}unblurParent(){}}},813:(e,t,n)=>{const i=n(230),a=n(371),{generateUUID:s}=n(775);e.exports=class{constructor(e,t){this.id=s(),this.element=e,this.parentElement=t||e,this._cachedTokenized=void 0,this.cachedIndex=[],this._blurred=!1,this.tagWrapper="div",this.mergeable=!1}shouldWeTranslate(e){const t=e.trim();return""!==t&&(!/^\d+(?:[,.]\d+)*$/.test(t)&&!/^[\W\d\s_-]*$/.test(t))}tokenize(e=!1){if(void 0!==this._cachedTokenized&&!e)return this._cachedTokenized;if(this.element.nodeType===Node.TEXT_NODE){const t=Array.from(this.parentElement.childNodes).indexOf(this.element);if(-1===t)throw new Error("can't find index of text node");if(!this.shouldWeTranslate(this.element.textContent))return[];const n=[new i(this,t,this.element.textContent)];return e||(this._cachedTokenized=n),n}let t=[];for(let e=0;e<this.element.childNodes.length;e++){const n=this.element.childNodes[e];if(n.nodeType===Node.TEXT_NODE){if(!this.shouldWeTranslate(n.textContent))continue;t.push(new i(this,e,n.textContent))}}return e||(this._cachedTokenized=t),t}asHtml(){const e=this.tokenize();if(!e.length)return;let t=[];for(let n=0;n<e.length;n++){const i=e[n].asHtml();i&&t.push(i)}return t.length?t.join(""):void 0}applyAttributeChange(e,t,n){let i=this.element;i.nodeType===Node.TEXT_NODE&&(i=this.parentElement);const s=i.getAttribute(e);n.dryRun&&(t="href"===e?`${s}#linguise-translated-demo`:`${s} (translated)`),i.setAttribute(e,t),n.skipCache||n.dryRun||a.add(s,t,n.language,n.subId||e)}applyChange(e,t,n){const i=Object.assign({},{dryRun:!1,skipCache:!1},n||{});if(i.skipCache||this.cachedIndex.push(e.index),this.element.nodeType===Node.TEXT_NODE)if(i.dryRun){const t=this.element.textContent.match(/\s*$/)[0];this.element.textContent=e.text+" (translated)"+t}else i.skipCache||a.add(this.element.textContent,e.text,t,e.subId),this.element.textContent=e.text;else if(this.element.childNodes[e.index])if(i.dryRun){const t=this.element.childNodes[e.index].textContent.match(/\s*$/)[0];this.element.childNodes[e.index].textContent=e.text+" (translated)"+t}else i.skipCache||a.add(this.element.childNodes[e.index].textContent,e.text,t,e.subId),this.element.childNodes[e.index].textContent=e.text}isElementModified(e=null){const t=this.tokenize(),n=this.tokenize(!0);if("number"==typeof e){const i=t.find((t=>t.index===e)),a=n.find((t=>t.index===e));if(!i||!a)return!0;if(i.text!==a.text)return!0;for(const e in i.metaExtra)if(i.metaExtra[e]!==a.metaExtra[e])return!0;return!1}if(t.length!==n.length)return!0;t.sort(((e,t)=>e.index-t.index)),n.sort(((e,t)=>e.index-t.index));for(let e=0;e<t.length;e++){const i=t[e],a=n[e];if(i.text!==a.text)return!0;for(const e in i.metaExtra)if(i.metaExtra[e]!==a.metaExtra[e])return!0}return!1}blurParent(){this.parentElement&&!this._blurred&&(this.parentElement.setAttribute("data-linguise-loading","1"),this._blurred=!0)}unblurParent(){this.parentElement&&(this.parentElement.removeAttribute("data-linguise-loading"),this._blurred=!1)}}},64:(e,t,n)=>{const i=n(230),a=n(813);n(371);e.exports=class extends a{constructor(e,t){super(e,e),this.mergeable=!1}tokenize(e=!1){if(void 0!==this._cachedTokenized&&!e)return this._cachedTokenized;const t=this.element.getAttribute("placeholder");if(t){const n=[];if(t&&this.shouldWeTranslate(t)){const e=new i(this,0,t);e.subId="placeholder",n.push(e)}if(!n.length)throw new Error("No attribute to translate in textarea/input element");return e||(this._cachedTokenized=n),n}throw new Error("No attribute to translate in textarea/input element")}applyChange(e,t,n){const i=Object.assign({},{dryRun:!1,skipCache:!1},n||{});i.skipCache||this.cachedIndex.push(e.index);const a=e.subId;if(!a)return;let s=e.text;"placeholder"===a&&this.applyAttributeChange("placeholder",s,{...i,language:t})}blurParent(){}unblurParent(){}}},462:(e,t,n)=>{const i=n(371),a=n(813),s=n(765),r=n(72),o=n(431),l=n(230),{debounce:u,generateUUID:c}=n(775),g=n(64);let d=!1;const h=["SCRIPT","NOSCRIPT","HEAD","META","STYLE","IFRAME","OBJECT","SELECT","AREA","AUDIO","SVG","MATH","CANVAS","MAP","AUDIO","TRACK","VIDEO"],_=[...h,"TEXTAREA","INPUT"],p={IMG:r,A:s,TEXTAREA:g,INPUT:g};e.exports=class{constructor(e,t=null){this.config={apiKey:void 0,debounceDelay:2500,cacheTTL:2592e5,debug:!1,dryRun:!1,domainId:null,domainUrl:null,languageOverride:null,baseUrl:`${window.location.protocol}//${window.location.host}`},this.debouncedProcessTranslation=function(e,t){let n=null,i=[];const a=()=>{n=null,d&&console.log("Linguise: Debounce is not called after timeout, executing with",i.length,"items"),e(i),i=[]};return e=>{d&&console.log("Linguise: Called debouncer with",e.length,"items"),i=[...i,...e],e.length>0&&(n&&clearTimeout(n),n=setTimeout(a,t))}}(this.processTranslation.bind(this),this.config.debounceDelay),this.debounceDequeLockedNode=u(this.dequeLockedNode.bind(this),500),this.config_ready=!1,this._queued_translations=[],this._locked_node=[],this._translate_endpoint=t;let n=document.documentElement.lang||"";n.includes("-")&&!n.startsWith("zh-")&&(n=n.split("-")[0]),n=n.toLowerCase(),this.current_language=null,this.current_document_language=n,this.observer=null,this._config_fetch=e,this._linguise_editor=!1,"loading"===document.readyState?addEventListener("DOMContentLoaded",(()=>{this.initialize().then((()=>{this.wrapFetchConfig()})).catch((e=>{console.error("Linguise: Failed to initialize dynamic content",e),this.cancelProcess()}))})):this.initialize().then((()=>{this.wrapFetchConfig()})).catch((e=>{console.error("Linguise: Failed to initialize dynamic content",e),this.cancelProcess()}))}wrapFetchConfig(){"function"==typeof this._config_fetch&&this._config_fetch(this.config,(async e=>{if(e.debug&&(this.config.debug=!0),!e.dynamic_translations.enabled)return this.config.debug&&console.log("Linguise: Dynamic translation is disabled, cancelling"),void this.cancelProcess();if(!e.public_key)return this.config.debug&&console.log("Linguise: Public key is not set, cancelling"),void this.cancelProcess();this.config.debug&&console.log("Linguise: Config is ready, processing queued translations");let t=e.language;for(const n in e.languages)if(e.languages[n].code===this.current_document_language){t=this.current_document_language;break}return this.config.languageOverride&&(t=this.config.languageOverride),e.language===t?(this.config.debug&&console.log("Linguise: Document language is the same as current language, cancelling"),void this.cancelProcess()):(this.current_language=t,this.config.apiKey=e.public_key,this.config.baseUrl=e.url||e.domain,o.setPublicKey(e.public_key),this.config_ready=!0,this.isLinguiseEditorActive()?(this.config.debug&&console.log("Linguise: Linguise editor is active, cancelling dynamic content"),void this.cancelProcess()):(this._queued_translations.forEach((e=>{e.blurParent()})),void this.debouncedProcessTranslation(this._queued_translations)))})).catch((e=>{console.error("Linguise: Failed to fetch config",e),this.cancelProcess()}))}async _translate(e){if(this.config.dryRun)return[e,!0];const t=this.config.languageOverride||this.current_language;try{const n=`<div class="linguise-dynamic-wrapper">${e}</div>`;return[(await o.translate(this.config.baseUrl,t,n,this._translate_endpoint)).content,!0]}catch(t){return console.error("Linguise: Failed to translate content",t),[e,!1]}}async processTranslation(e){if(!this.config_ready)return this.config.debug&&console.log("Linguise: Config is not ready, queueing translations"),void this._queued_translations.push(...e);if(this.isLinguiseEditorActive())return this.config.debug&&console.log("Linguise: Linguise editor is active, cancelling dynamic content"),void this.cancelProcess();const t=e.map((e=>{try{return e.tokenize()}catch{return[]}})).flat().filter((e=>!e.isCached())).map((e=>e.node)),n=function(e){const t=new Set,n=new Set;return e.filter((e=>{const n=t.has(e.id);return t.add(e.id),!n})).filter((e=>{const t=n.has(e.element);return n.add(e.element),!t}))}(t.filter((e=>e.element.isConnected)));e.forEach((e=>{e.blurParent()})),this.config.debug&&console.log("Linguise: Found uncached",n),this.config.debug&&console.debug("Linguise: Current translation queue:",e),this.config.debug&&console.debug("Linguise: Current uncached response:",t),this.config.debug&&console.debug("Linguise: Uncached disconnected:",t.filter((e=>!e.element.isConnected)));const i=function(e){const t=new Map,n=[];for(const i of e)i.element!==i.parentElement&&i.parentElement&&i.mergeable?t.has(i.parentElement)?t.get(i.parentElement).push(i):t.set(i.parentElement,[i]):n.push(i);const i=[];for(const[e,n]of t){if(1===n.length){i.push(n[0].asHtml());continue}const t=new Array(e.childNodes.length).fill(void 0);for(const i of n)for(let n=0;n<e.childNodes.length;n++)e.childNodes[n]===i.element&&(t[n]=i);const a=`<div data-linguise-parent="${c()}">`,s=t.filter((e=>void 0!==e)).map((e=>e.asHtml().replace("<div","<span").replace("</div>","</span>"))).join("");i.push(a+s+"</div>")}for(const e of n)i.push(e.asHtml());return i.join("")}(n);if(this.config.debug&&console.debug("Linguise: Translating",i),!i.length)return e.forEach((e=>{e.unblurParent()})),void(this.config.debug&&console.log("Linguise: Nothing to be translated to server"));this.config.debug&&console.log("Linguise: Sending translation to server...");const[a,s]=await this._translate(i);if(e.forEach((e=>{e.unblurParent()})),!a)return void(this.config.debug&&console.log("Linguise: Translation failed, cancelling"));this.config.debug&&console.log("  Linguise: Received translation from server...");const r=document.createElement("div");r.innerHTML=a,this.config.debug&&console.debug("   Linguise: Translated content",r),this.config.debug&&console.log("  Linguise: Updating DOM..."),r.querySelectorAll("[data-linguise-id]").forEach((t=>{const n=l.fromElement(t);if(!n)return;const i=e.find((e=>e.id===n.id));i&&(i.element.isConnected?i.isElementModified(n.index)?this.config.debug&&console.log("  Linguise: Element is changed, ignoring",i):(this.enqueLockedNode(i.element),i.applyChange(n,this.current_language,{dryRun:this.config.dryRun,skipCache:!s})):this.config.debug&&console.log("  Linguise: Element is not attached to DOM, ignoring"))}))}collectChildNodes(e,t=[]){e.nodeType===Node.TEXT_NODE?t.push([e,e.parentElement]):("IMG"===e.nodeName&&(e.hasAttribute("src")||e.hasAttribute("alt")||e.hasAttribute("title"))||"A"===e.nodeName&&e.hasAttribute("href")||["TEXTAREA","INPUT"].includes(e.nodeName)&&e.hasAttribute("placeholder"))&&t.push([e,e]);for(let n=0;n<e.childNodes.length;n++)this.collectChildNodes(e.childNodes[n],t);return t}uniqueElementNode(e){const t=new Set,n=[];for(const[i,a]of e)t.has(i)||(t.add(i),n.push([i,a]));return n}applyCacheOrTranslate(e,t){const n=function(e){const t=e.nodeName;return p[t]||a}(e),s=new n(e,t);if(this._locked_node.includes(e))return void(this.config.debug&&console.debug("Linguise: Skipping locked node",s));let r=[];try{r=s.tokenize()}catch{return}return r.map((e=>{const t=i.get(e.text,this.current_language||this.current_document_language,e.subId);if(t){const n=new l(null,e.index,t);return e.subId&&(n.subId=e.subId),this.enqueLockedNode(s.element),s.applyChange(n,this.current_language||this.current_document_language,{dryRun:this.config.dryRun}),!0}for(const[t,n]of Object.entries(e.metaExtra||{})){const a=i.get(n,this.current_language||this.current_document_language,e.subId);if(a){const n={};n[t]=a;const i=new l(null,e.index,e.text,n);return e.subId&&(i.subId=e.subId),this.enqueLockedNode(s.element),s.applyChange(i,this.current_language||this.current_document_language,{dryRun:this.config.dryRun}),!0}}return!1})).every((e=>e))?void 0:s}cancelProcess(){null!==this.observer&&this.observer.disconnect(),this._queued_translations.forEach((e=>{e.unblurParent()})),this.debounceDequeLockedNode()}extractScriptParam(){if(!document.currentScript)return{};const e=new URL(document.currentScript.src),t=e.searchParams.get("d"),n=e.searchParams.get("i"),i={};return t&&(i.apiKey=t),n&&(i.domainId=n),i}isLinguiseRelated(e){if(!e)return!1;if("BODY"===e.nodeName)return!1;if(e.nodeType===Node.ELEMENT_NODE){if(e.id&&(e.id.startsWith("linguise_")||e.id.startsWith("linguise-")))return!0;if("string"==typeof e.className&&(e.className.includes("linguise_")||e.className.includes("linguise-")))return!0}return this.isLinguiseRelated(e.parentNode)}isLinguiseEditorActive(){if(this._linguise_editor)return!0;if(document.querySelector("link#linguise_editor_style"))return this._linguise_editor=!0,!0;return!!document.querySelector("div#linguise_editor_toolbar")&&(this._linguise_editor=!0,!0)}dequeLockedNode(){this.config.debug&&console.log("Linguise: Dequeue-ing locked node",this._locked_node.length),this.config.debug&&console.debug("Linguise: Locked node removal",this._locked_node),this._locked_node=[]}enqueLockedNode(e){this._locked_node.push(e),this.debounceDequeLockedNode()}isElementPreflightAllow(e,t){return!!e.isConnected&&(e.nodeType!==Node.COMMENT_NODE&&(!this.isLinguiseRelated(e)&&((e.nodeType===Node.TEXT_NODE||!h.includes(e.nodeName))&&((e.nodeType!==Node.TEXT_NODE||!_.includes(t.nodeName))&&(!(e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("linguise-ignore")||t.hasAttribute("linguise-ignore"))&&!(e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("data-linguise-loading")||t.hasAttribute("data-linguise-loading")))))))}async initialize(){if(void 0===window)throw new Error("Linguise: please run this on browser");document.getElementById("linguise-dynamic-content-style")&&document.getElementById("linguise-dynamic-content-style").remove();const e=document.createElement("style");e.id="linguise-dynamic-content-style",e.innerHTML="\n[data-linguise-loading] {\n    text-shadow: 0 0 6px #8f8f8f;\n    transition: text-shadow 0.3s ease-in-out;\n    color: transparent !important;\n    animation: linguise-loading-pulse 1.5s ease-in-out infinite;\n}\n\n@keyframes linguise-loading-pulse {\n    0% {\n        text-shadow: 0 0 6px #8f8f8f;\n    }\n    50% {\n        text-shadow: 0 0 10px #8f8f8f;\n    }\n    100% {\n        text-shadow: 0 0 6px #8f8f8f;\n    }\n}\n",document.head.appendChild(e);const t=this.extractScriptParam(),n=Object.assign({},this.config,t,window.lingConfig||{});if(!window.document.documentElement.lang)throw new Error("Linguise: document.lang is not set, disabling dynamic content");if(!this._config_fetch)throw new Error("Linguise: configFetch is not set, disabling dynamic content");if(this.config=n,d=this.config.debug,i.importFromStorage(),i.setMaxTTL(this.config.cacheTTL),null!==this.observer&&this.observer.disconnect(),this.observer=new MutationObserver((e=>{const t=[];e.forEach((e=>{const n=e.target;let i=e.target;if(n.nodeType===Node.TEXT_NODE&&(i=n.parentElement),this.isElementPreflightAllow(n,i))if("attributes"===e.type){if("href"===e.attributeName){const e=this.applyCacheOrTranslate(n,i);e&&t.push(e)}else if(["alt","title"].includes(e.attributeName)){const e=this.applyCacheOrTranslate(n,i);e&&t.push(e)}}else if("childList"===e.type&&e.addedNodes.length>0){const n=[];e.addedNodes.forEach((e=>{const t=this.uniqueElementNode(this.collectChildNodes(e));n.push(...t)}));const i=this.uniqueElementNode(n).filter((([e,t])=>this.isElementPreflightAllow(e,t)));if(i.length>0){const e=i.map((([e,t])=>this.applyCacheOrTranslate(e,t))).filter((e=>!!e));e.forEach((e=>{this.config_ready&&e.blurParent()})),t.push(...e)}}})),t.length&&this.debouncedProcessTranslation(t)})),this.isLinguiseEditorActive())return this.config.debug&&console.log("Linguise: Linguise editor is active, cancelling dynamic content"),void this.cancelProcess();this.config.debug&&console.log("Linguise: Starting observer",n),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeFilter:["href","linguise-ignore","alt","title"]})}}},775:e=>{let t=!1;try{crypto.randomUUID(),t=!0}catch(e){console.warn("Linguise: crypto.randomUUID is not available, using unsafe UUID generator")}e.exports={generateUUID:function(){return t?crypto.randomUUID():function(){let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===n?i:3&i|8).toString(16)}))}()},debounce:function(e,t){let n=null;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{e(...i)}),t)}}}},738:(e,t,n)=>{const i=n(462),a=n(431);async function s(e,t){let n=e.apiKey;if(document.currentScript&&!n){n=new URL(document.currentScript.src).searchParams.get("d")}if(!n&&!a._stored_pkey)throw new Error("Linguise: cannot retrieve domain configuration, disabling dynamic content");a.setPublicKey(n);const i=await a.getConfig();if(!i)throw new Error("Linguise: cannot retrieve domain configuration, disabling dynamic content");i.public_key=a._stored_pkey,t(i)}function r(){let e=s,t=null;const n=function(){if(!window.linguise_configs)return;const e=window.linguise_configs.vars.configs;if(!e)return!1;const t=e.dynamic_translations,n=t?t.enabled:0,i=1===e.debug,a="string"==typeof n?"1"===n:1===n;if(!a)return!1;const s=t?t.public_key:"";return s?[async(t,n)=>{const r=[];for(const t in e.languages)r.push({code:t,name:e.languages[t]});n({public_key:s,dynamic_translations:{enabled:a},language:e.default_language,languages:r,debug:i,url:e.base_url})},e.translate_host]:(i&&console.warn("Linguise: No public key provided, dynamic translations are disabled."),!1)}(),a=function(){const e=document.querySelector('[type="linguise/json"]');if(!e)return;const t=JSON.parse(e.innerHTML);if(!t)return;const n="number"!=typeof t.dynamic_translations.enabled?parseInt(t.dynamic_translations.enabled):t.dynamic_translations.enabled;if(1!==n)return!1;let i=!1;t.debug&&(i="1"===t.debug||1===t.debug);const a=t.dynamic_translations.public_key.trim();return a?[async(e,s)=>{const r=[];for(const e in t.languages)r.push({code:e,name:t.languages[e]});s({public_key:a,language:t.language_default,languages:r,dynamic_translations:{enabled:1===n},debug:i,url:t.base_url})},t.translate_host]:(i&&console.warn("Linguise: No public key provided, dynamic translations are disabled."),!1)}();!1!==n&&!1!==a&&(n?(e=n[0],t=n[1]):a&&(e=a[0],t=a[1]),new i(e,t))}"loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)},735:e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],a=e[2],s=e[3];i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&a|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&a)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|a>>>15)+s|0)&s|~a&n)+t[3]-1044525330|0)<<22|i>>>10)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&a|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&a)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|a>>>15)+s|0)&s|~a&n)+t[7]-45705983|0)<<22|i>>>10)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&a|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&a)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|a>>>15)+s|0)&s|~a&n)+t[11]-1990404162|0)<<22|i>>>10)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&a|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&a)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|a>>>15)+s|0)&s|~a&n)+t[15]+1236535329|0)<<22|i>>>10)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&s|a&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&a|i&~a)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|a>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&s|a&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&a|i&~a)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|a>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&s|a&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&a|i&~a)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|a>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i&s|a&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&a|i&~a)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|a>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i^a^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^a)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|a>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i^a^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^a)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|a>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i^a^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^a)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|a>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+a|0,i=((i+=((a=((a+=((s=((s+=((n=((n+=(i^a^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^a)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|a>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+a|0,i=((i+=((s=((s+=(i^((n=((n+=(a^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~a))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~i))+t[14]-1416354905|0)<<15|a>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+a|0,i=((i+=((s=((s+=(i^((n=((n+=(a^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~a))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~i))+t[10]-1051523|0)<<15|a>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+a|0,i=((i+=((s=((s+=(i^((n=((n+=(a^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~a))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~i))+t[6]-1560198380|0)<<15|a>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+a|0,i=((i+=((s=((s+=(i^((n=((n+=(a^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~a))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~i))+t[2]+718787259|0)<<15|a>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+a|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=a+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,a,s,r,o,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,i(e.substring(t-64,t)));for(a=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(c,s),t=0;t<16;t+=1)s[t]=0;return r=(r=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),l=parseInt(r[1],16)||0,s[14]=o,s[15]=l,n(c,s),c}function r(e){var t,i,s,r,o,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,a(e.subarray(t-64,t)));for(i=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(c,s),t=0;t<16;t+=1)s[t]=0;return r=(r=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),l=parseInt(r[1],16)||0,s[14]=o,s[15]=l,n(c,s),c}function o(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,i=e.length,a=new ArrayBuffer(i),s=new Uint8Array(a);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:a}function g(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e)),i.set(new Uint8Array(t),e.byteLength),n?i:i.buffer}function h(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function _(){this.reset()}return l(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var a,s,r,o,l=this.byteLength,u=t(n,l),c=l;return i!==e&&(c=t(i,l)),u>c?new ArrayBuffer(0):(a=c-u,s=new ArrayBuffer(a),r=new Uint8Array(s),o=new Uint8Array(this,u,a),r.set(o),s)}}(),_.prototype.append=function(e){return this.appendBinary(u(e)),this},_.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},_.prototype.end=function(e){var t,n,i=this._buff,a=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,a),n=l(this._hash),e&&(n=h(n)),this.reset(),n},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(e,t){var i,a,s,r=t;if(e[r>>2]|=128<<(r%4<<3),r>55)for(n(this._hash,e),r=0;r<16;r+=1)e[r]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=a,e[15]=s,n(this._hash,e)},_.hash=function(e,t){return _.hashBinary(u(e),t)},_.hashBinary=function(e,t){var n=l(s(e));return t?h(n):n},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(e){var t,i=d(this._buff.buffer,e,!0),s=i.length;for(this._length+=e.byteLength,t=64;t<=s;t+=64)n(this._hash,a(i.subarray(t-64,t)));return this._buff=t-64<s?new Uint8Array(i.buffer.slice(t-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,a=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,a),n=l(this._hash),e&&(n=h(n)),this.reset(),n},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var e=_.prototype.getState.call(this);return e.buff=g(e.buff),e},_.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),_.prototype.setState.call(this,e)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(e,t){var n=l(r(new Uint8Array(e)));return t?h(n):n},_}()}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}(()=>{"use strict";n(738);var e=function(){var e=linguise_configs.vars.configs,t=Object.keys(e.languages);if(e.scheme=window.location.protocol,e.host=window.location.host,e.query=window.location.search,e.current_language=e.default_language,(e.base?e.base:"")+e.original_path!==window.location.pathname){var n=new RegExp("^"+(""!==e.base?e.base:"")+"/("+t.join("|")+")(?:/(.*)|$)").exec(window.location.pathname);null!==n&&n.length>=2&&n[1]&&(e.current_language=n[1])}var i=function(e,t){var n=document.querySelector('link[rel="alternate"][hreflang="'+e+'"]');return null!==n&&void 0!==n.href?n.href:t.scheme+"//"+t.host+(t.base?t.base:"")+(e===t.default_language?"":"/"+e)+t.original_path+t.trailing_slashes+(t.query?t.query:"")};document.querySelectorAll(".linguise_parent_menu_item").length&&document.querySelectorAll(".linguise_parent_menu_item a").forEach((function(t){var n="";if(1===parseInt(e.enable_flag)){var i="linguise_flag_".concat(e.current_language);"en"===e.current_language&&"en-gb"===e.flag_en_type?i="linguise_flag_en_gb":"de"===e.current_language&&"de-at"===e.flag_de_type?i="linguise_flag_de_at":"es"===e.current_language&&"es-mx"===e.flag_es_type?i="linguise_flag_es_mx":"es"===e.current_language&&"es-pu"===e.flag_es_type?i="linguise_flag_es_pu":"pt"===e.current_language&&"pt-br"===e.flag_pt_type?i="linguise_flag_pt_br":"zh-tw"===e.current_language&&"zh-cn"===e.flag_tw_type&&(i="linguise_flag_zh-cn"),n+='<span class="linguise_flags '.concat(i,' linguise_language_icon"></span>')}1===parseInt(e.enable_language_short_name)?n+='<span class="linguise_lang_name">'.concat(e.current_language.toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(n+='<span class="linguise_lang_name">'.concat(e.languages[e.current_language],"</span>")),t.innerHTML=n}));var a=document.querySelectorAll(".linguise_switcher");a.length&&(a.forEach((function(n){var a="linguise_flag_".concat(e.current_language);if("en"===e.current_language&&"en-gb"===e.flag_en_type?a="linguise_flag_en_gb":"de"===e.current_language&&"de-at"===e.flag_de_type?a="linguise_flag_de_at":"es"===e.current_language&&"es-mx"===e.flag_es_type?a="linguise_flag_es_mx":"es"===e.current_language&&"es-pu"===e.flag_es_type?a="linguise_flag_es_pu":"pt"===e.current_language&&"pt-br"===e.flag_pt_type?a="linguise_flag_pt_br":"zh-tw"===e.current_language&&"zh-cn"===e.flag_tw_type&&(a="linguise_flag_zh-cn"),n.classList.contains("linguise_parent_menu_item")){var s="";switch(e.flag_display_type){case"dropdown":s='<ul class="linguise_switcher_sub '.concat(t.length>9?"many_languages":"",'">');for(var r=0;r<t.length;r++)if(t[r]!==e.current_language){if(s+="<li>",t[r]!==e.current_language&&(s+='<a href="'+i(t[r],e)+'">'),1===parseInt(e.enable_flag)){var o="linguise_flag_".concat(t[r]);"en"===t[r]&&"en-gb"===e.flag_en_type?o="linguise_flag_en_gb":"de"===t[r]&&"de-at"===e.flag_de_type?o="linguise_flag_de_at":"es"===t[r]&&"es-mx"===e.flag_es_type?o="linguise_flag_es_mx":"es"===t[r]&&"es-pu"===e.flag_es_type?o="linguise_flag_es_pu":"pt"===t[r]&&"pt-br"===e.flag_pt_type?o="linguise_flag_pt_br":"zh-tw"===t[r]&&"zh-cn"===e.flag_tw_type&&(o="linguise_flag_zh-cn"),s+='<span class="linguise_flags '.concat(o,' linguise_language_icon"></span>')}1===parseInt(e.enable_language_short_name)?s+='<span class="linguise_lang_name popup_linguise_lang_name">'.concat(t[r].toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(s+='<span class="linguise_lang_name popup_linguise_lang_name">'.concat(e.languages[t[r]],"</span>")),t[r]!==e.current_language&&(s+="</a>"),s+="</li>"}s+="</ul>";var l=document.createElement("div");l.innerHTML=s.trim(),n.appendChild(l.firstChild);break;case"side_by_side":s='<div class="side_by_side_lang_list">',s+='<a  href="'.concat(e.scheme,"//").concat(e.host+(e.base?e.base:"")+(e.current_language===e.default_language?"":"/"+e.current_language)+e.original_path+e.trailing_slashes+(e.query?e.query:""),'">'),1===parseInt(e.enable_flag)&&(s+='<span class="linguise_flags '.concat(a,' linguise_language_icon"></span>')),1===parseInt(e.enable_language_short_name)?s+='<span class="linguise_lang_name">'.concat(e.current_language.toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(s+='<span class="linguise_lang_name">'.concat(e.languages[e.current_language],"</span>")),s+="</a>";for(var u=0;u<t.length;u++)if(t[u]!==e.current_language){if(s+='<a href="'+i(t[u],e)+'">',1===parseInt(e.enable_flag)){var c="linguise_flag_".concat(t[u]);"en"===t[u]&&"en-gb"===e.flag_en_type?c="linguise_flag_en_gb":"de"===t[u]&&"de-at"===e.flag_de_type?c="linguise_flag_de_at":"es"===t[u]&&"es-mx"===e.flag_es_type?c="linguise_flag_es_mx":"es"===t[u]&&"es-pu"===e.flag_es_type?c="linguise_flag_es_pu":"pt"===t[u]&&"pt-br"===e.flag_pt_type?c="linguise_flag_pt_br":"zh-tw"===t[u]&&"zh-cn"===e.flag_tw_type&&(c="linguise_flag_zh-cn"),s+='<span class="linguise_flags '.concat(c,' linguise_language_icon"></span>')}1===parseInt(e.enable_language_short_name)?s+='<span class="linguise_lang_name">'.concat(t[u].toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(s+='<span class="linguise_lang_name">'.concat(e.languages[t[u]],"</span>")),s+="</a>"}s+="</div>";var g=document.createElement("div");g.innerHTML=s,n.appendChild(g.firstChild);break;case"popup":document.querySelectorAll(".linguise_parent_menu_item").length&&n.addEventListener("click",(function(e){window.openLanguagePopUp(e)}))}}else{var d="";switch(e.flag_display_type){case"popup":1===parseInt(e.enable_flag)&&(d+='<span class="linguise_flags '.concat(a,' linguise_language_icon"></span>')),1===parseInt(e.enable_language_short_name)?d+='<span class="linguise_lang_name">'.concat(e.current_language.toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(d+='<span class="linguise_lang_name">'.concat(e.languages[e.current_language],"</span>")),document.querySelectorAll(".linguise_switcher_popup").forEach((function(e){e.innerHTML=d}));break;case"side_by_side":for(var h=0;h<t.length;h++){if(d+="<li ".concat(t[h]===e.current_language?'class="linguise_current"':"",">"),t[h]!==e.current_language?d+='<a href="'+i(t[h],e)+'">':d+='<a href="javascript:void(0);">',1===parseInt(e.enable_flag)){var _="linguise_flag_".concat(t[h]);"en"===t[h]&&"en-gb"===e.flag_en_type?_="linguise_flag_en_gb":"de"===t[h]&&"de-at"===e.flag_de_type?_="linguise_flag_de_at":"es"===t[h]&&"es-mx"===e.flag_es_type?_="linguise_flag_es_mx":"es"===t[h]&&"es-pu"===e.flag_es_type?_="linguise_flag_es_pu":"pt"===t[h]&&"pt-br"===e.flag_pt_type?_="linguise_flag_pt_br":"zh-tw"===t[h]&&"zh-cn"===e.flag_tw_type&&(_="linguise_flag_zh-cn"),d+='<span class="linguise_flags '.concat(_,' linguise_language_icon"></span>')}1===parseInt(e.enable_language_short_name)?d+='<span class="linguise_lang_name">'.concat(t[h].toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(d+='<span class="linguise_lang_name">'.concat(e.languages[t[h]],"</span>")),d+="</a>",d+="</li>"}document.querySelectorAll(".linguise_switcher_side_by_side").forEach((function(e){e.innerHTML=d}));break;case"dropdown":d+='<li class="linguise_current '.concat(1===parseInt(e.enable_language_name)?"enabled_language_name":"",'">'),d+='<div class="linguise_current_lang">',1===parseInt(e.enable_flag)&&(d+='<span class="linguise_flags '.concat(a,' linguise_language_icon"></span>')),1===parseInt(e.enable_language_short_name)?d+='<span class="linguise_lang_name">'.concat(e.current_language.toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(d+='<span class="linguise_lang_name">'.concat(e.languages[e.current_language],"</span>")),d+='<span class="lccaret '.concat(e.display_position.includes("top")||"no"===e.display_position?"top":"",'">\n                                        <svg height="48" viewBox="0 96 960 960" width="48">\n                                            <path d="M480 699q-6 0-11-2t-10-7L261 492q-8-8-7.5-21.5T262 449q10-10 21.5-8.5T304 450l176 176 176-176q8-8 21.5-9t21.5 9q10 8 8.5 21t-9.5 22L501 690q-5 5-10 7t-11 2Z"/>\n                                        </svg>\n                                    </span>'),d+="</div>",d+='<ul class="linguise_switcher_sub '.concat(t.length>9?"many_languages":"",'">');for(var p=0;p<t.length;p++)if(t[p]!==e.current_language){if(d+='<li class="linguise-lang-item">',t[p]!==e.current_language&&(d+='<a href="'+i(t[p],e)+'">'),1===parseInt(e.enable_flag)){var f="linguise_flag_".concat(t[p]);"en"===t[p]&&"en-gb"===e.flag_en_type?f="linguise_flag_en_gb":"de"===t[p]&&"de-at"===e.flag_de_type?f="linguise_flag_de_at":"es"===t[p]&&"es-mx"===e.flag_es_type?f="linguise_flag_es_mx":"es"===t[p]&&"es-pu"===e.flag_es_type?f="linguise_flag_es_pu":"pt"===t[p]&&"pt-br"===e.flag_pt_type?f="linguise_flag_pt_br":"zh-tw"===t[p]&&"zh-cn"===e.flag_tw_type&&(f="linguise_flag_zh-cn"),d+='<span class="linguise_flags '.concat(f,' linguise_language_icon"></span>')}1===parseInt(e.enable_language_short_name)?d+='<span class="linguise_lang_name popup_linguise_lang_name">'.concat(t[p].toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(d+='<span class="linguise_lang_name popup_linguise_lang_name">'.concat(e.languages[t[p]],"</span>")),t[p]!==e.current_language&&(d+="</a>"),d+="</li>"}d+="</ul>",d+="</li>",document.querySelectorAll(".linguise_switcher_dropdown").forEach((function(e){e.innerHTML=d}));break;default:1===parseInt(e.enable_flag)&&(d+='<span class="linguise_flags '.concat(a,' linguise_language_icon"></span>')),1===parseInt(e.enable_language_short_name)?d+='<span class="linguise_lang_name">'.concat(e.current_language.toUpperCase(),"</span>"):1===parseInt(e.enable_language_name)&&(d+='<span class="linguise_lang_name">'.concat(e.languages[e.current_language],"</span>")),d+='<span class="lccaret">\n                                          <svg height="48" viewBox="0 96 960 960" width="48">\n                                            <path d="M480 699q-6 0-11-2t-10-7L261 492q-8-8-7.5-21.5T262 449q10-10 21.5-8.5T304 450l176 176 176-176q8-8 21.5-9t21.5 9q10 8 8.5 21t-9.5 22L501 690q-5 5-10 7t-11 2Z"/>\n                                          </svg>\n                                     </span>',document.querySelectorAll(".linguise_switcher_popup").forEach((function(e){e.innerHTML=d}))}"top_left_no_scroll"!==e.display_position&&"top_right_no_scroll"!==e.display_position&&"bottom_left_no_scroll"!==e.display_position&&"bottom_right_no_scroll"!==e.display_position||document.querySelector("body").appendChild(n)}})),"dropdown"===e.flag_display_type&&document.querySelectorAll(".linguise_switcher > a").forEach((function(e){e.addEventListener("click",(function(e){e.stopImmediatePropagation()}))}))),window.openLanguagePopUp=function(n){if(void 0!==n&&n.preventDefault&&n.preventDefault(),!0===window.language_popup_initialised)return document.querySelector("#linguise_background").style.display="block",void document.querySelector("#linguise_popup_container").classList.add("show_linguise_popup_container");window.language_popup_initialised=!0;var a=document.createElement("div");a.id="linguise_background";var s=document.createElement("div"),r=document.createElement("div");r.id="linguise_popup_container",r.appendChild(s),s.classList.add("rounded"===e.flag_shape?"linguise_flag_rounded":"linguise_flag_rectangular"),s.id="linguise_popup";var o=document.createElement("a");if(o.classList.add("close"),o.href="#",o.appendChild(document.createElement("span")),s.appendChild(o),e.pre_text){var l=document.createElement("p");l.innerHTML=e.pre_text,s.appendChild(l)}var u=document.createElement("ul");u.translate=!1;for(var c=0;c<t.length;c++){var g=document.createElement("li");t[c]===e.current_language&&g.classList.add("linguise_current");var d=g;if(t[c]!==e.current_language){var h=document.createElement("a");h.href=i(t[c],e),g.appendChild(h),d=h}if(1===parseInt(e.enable_flag)){var _=document.createElement("span");_.classList.add("linguise_flags");var p="linguise_flag_".concat(t[c]);"en"===t[c]&&"en-gb"===e.flag_en_type?p="linguise_flag_en_gb":"de"===t[c]&&"de-at"===e.flag_de_type?p="linguise_flag_de_at":"es"===t[c]&&"es-mx"===e.flag_es_type?p="linguise_flag_es_mx":"es"===t[c]&&"es-pu"===e.flag_es_type?p="linguise_flag_es_pu":"pt"===t[c]&&"pt-br"===e.flag_pt_type?p="linguise_flag_pt_br":"zh-tw"===t[c]&&"zh-cn"===e.flag_tw_type&&(p="linguise_flag_zh-cn"),_.classList.add(p),d.appendChild(_)}var f=document.createElement("span");f.classList.add("linguise_lang_name","popup_linguise_lang_name"),f.innerText=1===parseInt(e.enable_language_short_name)?t[c].toUpperCase():e.languages[t[c]],d.appendChild(f),u.appendChild(g)}if(s.appendChild(u),e.post_text){var m=document.createElement("p");m.innerHTML=e.post_text,s.appendChild(m)}var b=function(e){e.preventDefault(),a.style.display="none",document.querySelector("#linguise_popup_container").classList.remove("show_linguise_popup_container")};a.onclick=b,o.onclick=b,document.querySelector("body").appendChild(a),document.querySelector("body").appendChild(r),setTimeout((function(){r.classList.add("show_linguise_popup_container")}),100),null!==document.querySelector(".linguise_parent_menu_item")&&document.querySelectorAll(".linguise_parent_menu_item").forEach((function(e){e.addEventListener("click",(function(e){window.openLanguagePopUp(e)}))}))}};"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)})()})();